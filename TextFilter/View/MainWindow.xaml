<Window x:Class="TextFilter.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
        xmlns:local="clr-namespace:TextFilter"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        Title="TextFilter"
        Width="900"
        Height="600"
        AllowDrop="True"
        Drop="FileData_Drop"
        WindowStartupLocation="CenterOwner">

    <Window.Resources>
        <local:MainViewModel x:Key="mainViewModel" />
        <local:TextFilterSettings x:Key="settings" />
        <local:LogTabViewModel x:Key="logTabViewModel" />
        <local:FilterTabViewModel x:Key="filterTabViewModel" />

        <BooleanToVisibilityConverter x:Key="BoolToVis" />
        <ObjectDataProvider x:Key="colorsTypeOdp"
                            MethodName="GetType"
                            ObjectType="{x:Type sys:Type}">
            <ObjectDataProvider.MethodParameters>
                <sys:String>System.Windows.Media.Colors, PresentationCore, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35</sys:String>
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>
        <ObjectDataProvider x:Key="colorPropertiesOdp"
                            MethodName="GetProperties"
                            ObjectInstance="{StaticResource colorsTypeOdp}" />
    </Window.Resources>

    <Window.InputBindings>
        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.CloseCommand}"
                    CommandParameter="{Binding}"
                    Gesture="Ctrl+F4" />
        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.ExportCommand}"
                    CommandParameter="{Binding}"
                    Gesture="Ctrl+E" />
        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.HideCommand}"
                    CommandParameter="{Binding}"
                    Gesture="Ctrl+H" />

        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.GotoLineCommand}"
                    CommandParameter="{Binding}"
                    Gesture="Ctrl+G" />
        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.ReloadCommand}"
                    CommandParameter="{Binding}"
                    Gesture="Ctrl+R" />
        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.OpenCommand}"
                    CommandParameter="{Binding}"
                    Gesture="Ctrl+O" />
        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.RenameCommand}"
                    Gesture="F2" />
        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.SaveCommand}"
                    CommandParameter="{Binding}"
                    Gesture="Ctrl+S" />

        <KeyBinding Key="V"
                    Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.PasteCommand}"
                    CommandParameter="{Binding}"
                    Modifiers="Control" />

        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.RemoveFilterItemCommand}"
                    Gesture="Delete" />
        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.AddFilterItemCommand}"
                    Gesture="Insert" />
        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.CloseCommand}"
                    CommandParameter="{Binding}"
                    Gesture="Ctrl+Alt+F4" />
        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.HideCommand}"
                    CommandParameter="{Binding}" />
        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.OpenCommand}"
                    CommandParameter="{Binding}"
                    Gesture="Ctrl+Alt+O" />
        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.NewCommand}"
                    CommandParameter="{Binding}"
                    Gesture="Ctrl+Alt+N" />
        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.ReloadCommand}"
                    CommandParameter="{Binding}"
                    Gesture="Ctrl+Alt+R" />
        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.ReloadCommand}"
                    CommandParameter="{Binding}"
                    Gesture="F5" />
        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.RenameCommand}"
                    Gesture="Alt+F2" />
        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.SaveCommand}"
                    CommandParameter="{Binding}"
                    Gesture="Ctrl+Alt+S" />
        <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.HideCommand}"
                    Gesture="Ctrl+Alt+H" />
    </Window.InputBindings>

    <DockPanel Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
               DataContext="{StaticResource mainViewModel}">
        <Menu Style="{DynamicResource MenuStyle1}"
              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
              DockPanel.Dock="Top">
            <MenuItem Header="_File">
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _LogViewModel.CloseCommand}"
                          CommandParameter="{Binding}"
                          Header="_Close File"
                          InputGestureText="Ctrl+F4" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _LogViewModel.CloseAllCommand}"
                          CommandParameter="{Binding}"
                          Header="Close _All Files" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _LogViewModel.CopyFilePathCommand}"
                          CommandParameter="{Binding}"
                          Header="Copy File _Path" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.ExportCommand}"
                          Header="Export File"
                          InputGestureText="Ctrl+E" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.GotoLineCommand}"
                          Header="_Goto Line Number"
                          InputGestureText="Ctrl+G" />
                <MenuItem Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _LogViewModel.OpenFolderCommand}"
                          CommandParameter="{Binding}"
                          Header="Open Containing _Folder" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _LogViewModel.OpenCommand}"
                          CommandParameter="{Binding}"
                          Header="_Open File"
                          InputGestureText="Ctrl+O" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _LogViewModel.NewCommand}"
                          CommandParameter="{Binding}"
                          Header="Open View in _New Tab"
                          InputGestureText="Ctrl+N" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          Header="Recent Files"
                          ItemsSource="{Binding _LogViewModel.RecentCollection}">
                    <MenuItem.ItemContainerStyle>
                        <Style TargetType="{x:Type MenuItem}">
                            <Setter Property="MenuItem.Background"
                                    Value="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}" />
                            <Setter Property="MenuItem.BorderBrush"
                                    Value="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}" />
                            <Setter Property="MenuItem.Command"
                                    Value="{Binding Command}" />
                            <Setter Property="MenuItem.CommandParameter"
                                    Value="{Binding Text}" />

                            <Setter Property="MenuItem.Foreground"
                                    Value="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}" />
                            <Setter Property="MenuItem.Header"
                                    Value="{Binding Text}" />
                        </Style>
                    </MenuItem.ItemContainerStyle>
                </MenuItem>
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _LogViewModel.ReloadCommand}"
                          CommandParameter="{Binding}"
                          Header="_Reload File"
                          InputGestureText="Ctrl+R" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _LogViewModel.RenameCommand}"
                          CommandParameter="{Binding}"
                          Header="Rename File"
                          InputGestureText="F2" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _LogViewModel.SaveAsCommand}"
                          CommandParameter="{Binding}"
                          Header="_Save Current View"
                          InputGestureText="Ctrl+S" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.HideCommand}"
                          Header="Show / _Hide All Items"
                          InputGestureText="Ctrl+H" />
            </MenuItem>
            <MenuItem Header="_Filter">
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _FilterViewModel.CloseCommand}"
                          CommandParameter="{Binding}"
                          Header="_Close Filter"
                          InputGestureText="Ctrl+Alt+F4" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _FilterViewModel.CloseAllCommand}"
                          CommandParameter="{Binding}"
                          Header="Close _All Filters" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _FilterViewModel.CopyFilePathCommand}"
                          CommandParameter="{Binding}"
                          Header="Copy File _Path" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _FilterViewModel.FilterNotesCommand}"
                          CommandParameter="{Binding}"
                          Header="_Filter Notes" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _FilterViewModel.AddFilterItemCommand}"
                          CommandParameter="{Binding}"
                          Header="_Insert Filter Item"
                          InputGestureText="Insert" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _FilterViewModel.NewCommand}"
                          CommandParameter="{Binding}"
                          Header="_New Filter"
                          InputGestureText="Ctrl+Alt+N" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _FilterViewModel.OpenFolderCommand}"
                          CommandParameter="{Binding}"
                          Header="Open Containing _Folder" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _FilterViewModel.OpenCommand}"
                          CommandParameter="{Binding}"
                          Header="_Open Filter"
                          InputGestureText="Ctrl+Alt+O" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Header="R_ecent Filters"
                          ItemsSource="{Binding _FilterViewModel.RecentCollection}">
                    <MenuItem.ItemContainerStyle>
                        <Style TargetType="{x:Type MenuItem}">
                            <Setter Property="MenuItem.Background"
                                    Value="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}" />
                            <Setter Property="MenuItem.BorderBrush"
                                    Value="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}" />
                            <Setter Property="MenuItem.Command"
                                    Value="{Binding Command}" />
                            <Setter Property="MenuItem.CommandParameter"
                                    Value="{Binding Text}" />
                            <Setter Property="MenuItem.Foreground"
                                    Value="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}" />
                            <Setter Property="MenuItem.Header"
                                    Value="{Binding Text}" />
                        </Style>
                    </MenuItem.ItemContainerStyle>
                </MenuItem>
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _FilterViewModel.ReloadCommand}"
                          CommandParameter="{Binding}"
                          Header="_Reload Filter"
                          InputGestureText="Ctrl+Alt+R" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _FilterViewModel.RemoveFilterItemCommand}"
                          CommandParameter="{Binding}"
                          Header="_Remove Filter Item"
                          InputGestureText="Delete" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _FilterViewModel.RenameCommand}"
                          CommandParameter="{Binding}"
                          Header="Rename Filter"
                          InputGestureText="Alt+F2" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _FilterViewModel.SaveCommand}"
                          CommandParameter="{Binding}"
                          Header="_Save Filter"
                          InputGestureText="Ctrl+Alt+S" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding _FilterViewModel.SaveAsCommand}"
                          CommandParameter="{Binding}"
                          Header="Save Filter As" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Header="Shared Filters"
                          ItemsSource="{Binding _FilterViewModel.SharedCollection}">
                    <MenuItem.ItemContainerStyle>
                        <Style TargetType="{x:Type MenuItem}">
                            <Setter Property="MenuItem.Background"
                                    Value="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}" />
                            <Setter Property="MenuItem.BorderBrush"
                                    Value="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}" />
                            <Setter Property="MenuItem.Foreground"
                                    Value="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}" />
                        </Style>
                    </MenuItem.ItemContainerStyle>
                </MenuItem>
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.HideCommand}"
                          Header="Show / _Hide Filter View"
                          InputGestureText="Ctrl+Alt+H" />
            </MenuItem>
            <MenuItem Header="_Options">
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding Source={StaticResource mainViewModel}, Path=SettingsCommand}"
                          Header="_Settings" />
            </MenuItem>
            <MenuItem Header="_Help">
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding Source={StaticResource mainViewModel}, Path=HelpCommand}"
                          Header="_Online Content" />
                <MenuItem Style="{DynamicResource MenuItemStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Command="{Binding Source={StaticResource mainViewModel}, Path=VersionCheckCommand}"
                          Header="_Check For New Version" />
            </MenuItem>
        </Menu>

        <Grid x:Name="GridMain"
              Margin="0,0,0,0"
              HorizontalAlignment="Stretch"
              VerticalAlignment="Stretch"
              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}">
            <Grid.RowDefinitions>
                <RowDefinition Height="25" />
                <RowDefinition Height="{Binding Path=_FilterViewModel.FilterHide, Mode=TwoWay}" />
                <RowDefinition Height="5" />
                <RowDefinition Height="75*" />
            </Grid.RowDefinitions>

            <!--  vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv STATUS / QUICK FILTER BOX vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv  -->

            <Grid x:Name="GridStatus"
                  Grid.Row="0"
                  Height="25"
                  HorizontalAlignment="Stretch"
                  VerticalAlignment="Top"
                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}">

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="5" />
                    <ColumnDefinition Width="300" />
                    <ColumnDefinition Width="100" />
                </Grid.ColumnDefinitions>
                <Grid.InputBindings>
                    <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.FindNextCommand}"
                                CommandParameter="QUICKFIND"
                                Gesture="F3" />
                </Grid.InputBindings>
                <Label Name="labelQuickFind"
                       Grid.Column="0"
                       Width="75"
                       Height="25"
                       Margin="1,1,1,3"
                       HorizontalAlignment="Left"
                       VerticalAlignment="Bottom"
                       Style="{DynamicResource LabelStyle1}"
                       Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                       Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                       BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                       Content="Quick Filter:" />
                <ComboBox x:Name="comboboxQuickFind"
                          Grid.Column="0"
                          Height="25"
                          Margin="75,0,138,0"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Top"
                          Style="{DynamicResource ComboBoxStyle1}"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                          IsEditable="True"
                          IsTextSearchEnabled="True"
                          ItemsSource="{Binding Path=QuickFindList}"
                          ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                          SelectedIndex="{Binding Path=QuickFindIndex}">
                    <ComboBox.InputBindings>
                        <KeyBinding Key="Enter"
                                    Command="{Binding _FilterViewModel.QuickFindChangedCommand}"
                                    CommandParameter="{Binding ElementName=comboboxQuickFind}" />
                    </ComboBox.InputBindings>
                </ComboBox>
                <ToggleButton Name="toggleButtonRegex"
                              Width="40"
                              Height="25"
                              Margin="0,0,96,0"
                              HorizontalAlignment="Right"
                              VerticalAlignment="Top"
                              Style="{DynamicResource ToggleButtonStyle1}"
                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                              Content="Regex"
                              IsChecked="{Binding Path=_FilterViewModel.QuickFindRegex, Mode=TwoWay}" />
                <ToggleButton Name="toggleButtonAND"
                              Width="30"
                              Height="25"
                              Margin="0,0,64,0"
                              HorizontalAlignment="Right"
                              VerticalAlignment="Top"
                              Style="{DynamicResource ToggleButtonStyle1}"
                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                              Command="{Binding _FilterViewModel.QuickFindChangedCommand}"
                              CommandParameter="{Binding ElementName=comboboxQuickFind}"
                              Content="AND"
                              IsChecked="{Binding Path=_FilterViewModel.QuickFindAnd, Mode=TwoWay}" />
                <ToggleButton Name="toggleButtonOR"
                              Width="30"
                              Height="25"
                              Margin="0,0,32,0"
                              HorizontalAlignment="Right"
                              VerticalAlignment="Top"
                              Style="{DynamicResource ToggleButtonStyle1}"
                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                              Command="{Binding _FilterViewModel.QuickFindChangedCommand}"
                              CommandParameter="{Binding ElementName=comboboxQuickFind}"
                              Content="OR"
                              IsChecked="{Binding Path=_FilterViewModel.QuickFindOr, Mode=TwoWay}" />
                <ToggleButton Name="toggleButtonNOT"
                              Width="30"
                              Height="25"
                              Margin="0,0,0,0"
                              HorizontalAlignment="Right"
                              VerticalAlignment="Top"
                              Style="{DynamicResource ToggleButtonStyle1}"
                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                              Command="{Binding _FilterViewModel.QuickFindChangedCommand}"
                              CommandParameter="{Binding ElementName=comboboxQuickFind}"
                              Content="NOT"
                              IsChecked="{Binding Path=_FilterViewModel.QuickFindNot, Mode=TwoWay}" />
                <GridSplitter Grid.Column="1"
                              Width="5"
                              Height="25"
                              HorizontalAlignment="Center"
                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}" />

                <Label Name="labelStatus"
                       Grid.Column="2"
                       Width="50"
                       Height="25"
                       Margin="1,1,1,3"
                       HorizontalAlignment="Left"
                       VerticalAlignment="Bottom"
                       Style="{DynamicResource LabelStyle1}"
                       Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                       Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                       BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                       Content="Status:" />

                <ListBox x:Name="listboxStatus"
                         Grid.Column="2"
                         Height="25"
                         Margin="50,0,0,0"
                         HorizontalAlignment="Stretch"
                         VerticalAlignment="Bottom"
                         Style="{DynamicResource ListBoxStyle1}"
                         Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                         Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                         BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                         ItemsSource="{Binding Path=Status}"
                         ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                         SelectedIndex="{Binding Path=StatusIndex}"
                         SelectionMode="Extended">
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="SelectionChanged">
                            <i:InvokeCommandAction Command="{Binding StatusChangedCommand}"
                                                   CommandParameter="{Binding ElementName=listboxStatus}" />
                        </i:EventTrigger>
                    </i:Interaction.Triggers>
                    <ListBox.InputBindings>
                        <KeyBinding Key="C"
                                    Command="{Binding CopyCommand}"
                                    CommandParameter="{Binding Path=Status}"
                                    Modifiers="Control" />
                    </ListBox.InputBindings>

                    <ListBox.ContextMenu>
                        <ContextMenu HasDropShadow="True">
                            <MenuItem Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                      Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                      BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                      Command="{Binding CopyCommand}"
                                      CommandParameter="{Binding Path=Status}"
                                      Header="Copy"
                                      InputGestureText="Ctrl+C" />
                        </ContextMenu>
                    </ListBox.ContextMenu>
                </ListBox>

                <TextBox Name="textboxLineTotals"
                         Grid.Column="3"
                         Height="25"
                         Margin="1,0,1,0"
                         HorizontalAlignment="Stretch"
                         VerticalAlignment="Bottom"
                         Style="{DynamicResource TextBoxStyle1}"
                         Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                         Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                         BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                         BorderThickness="1"
                         IsReadOnly="True"
                         Text="{Binding Path=_LogViewModel.LineTotals}" />
            </Grid>

            <!--  vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv FILTER FILE DATA vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv  -->
            <TabControl x:Name="tabFilters"
                        Grid.Row="1"
                        Margin="0,0,0,0"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch"
                        BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                        ItemsSource="{Binding Path=_FilterViewModel.TabItems}"
                        SelectedIndex="{Binding Path=_FilterViewModel.SelectedIndex, Mode=TwoWay, NotifyOnSourceUpdated=True, NotifyOnTargetUpdated=True}">

                <TabControl.InputBindings>
                    <KeyBinding Key="Insert"
                                Command="{Binding Path=_FilterViewModel.AddFilterItemCommand}" />
                    <KeyBinding Key="Delete"
                                Command="{Binding Path=_FilterViewModel.RemoveFilterItemCommand}" />
                </TabControl.InputBindings>
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="GotFocus">
                        <i:InvokeCommandAction Command="{Binding _FilterViewModel.GotFocusCommand}"
                                               CommandParameter="{Binding}" />
                    </i:EventTrigger>
                </i:Interaction.Triggers>
                <TabControl.ItemTemplate>
                    <DataTemplate>

                        <TextBlock Margin="-4,0,-4,-2"
                                   Background="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                   Foreground="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                   Text="{Binding Path=Header}" />
                    </DataTemplate>
                </TabControl.ItemTemplate>
                <TabControl.Background>
                    <VisualBrush>
                        <VisualBrush.Visual>
                            <Grid Width="{Binding Path=ActualWidth, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type TabControl}}, Mode=OneWay}"
                                  Height="{Binding Path=ActualHeight, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type TabControl}}, Mode=OneWay}">
                                <Rectangle Fill="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}" />
                                <Image HorizontalAlignment="Left"
                                       VerticalAlignment="Top"
                                       Opacity="1"
                                       Source="../Resources/Filter.png"
                                       Stretch="None" />
                            </Grid>
                        </VisualBrush.Visual>
                    </VisualBrush>
                </TabControl.Background>
                <TabControl.ContentTemplate x:Uid="tabContent">

                    <DataTemplate>
                        <DataGrid x:Name="filterFileData"
                                  Grid.Row="0"
                                  Margin="0,0,0,0"
                                  HorizontalAlignment="Stretch"
                                  VerticalAlignment="Stretch"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  AutoGenerateColumns="False"
                                  CanUserAddRows="False"
                                  DataGridCell.GotFocus="DataGrid_CellGotFocus"
                                  ItemsSource="{Binding Path=ContentList, Mode=TwoWay}"
                                  ScrollViewer.HorizontalScrollBarVisibility="Auto"
                                  ScrollViewer.VerticalScrollBarVisibility="Auto"
                                  Tag="{Binding}">

                            <DataGrid.Resources>
                                <local:BindingProxy x:Key="proxyFilter"
                                                    Data="{Binding}" />
                            </DataGrid.Resources>

                            <DataGrid.CellStyle>
                                <Style TargetType="DataGridCell">
                                    <Style.Setters>
                                        <Setter Property="Background"
                                                Value="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}" />
                                        <Setter Property="Foreground"
                                                Value="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}" />
                                        <Setter Property="FontSize"
                                                Value="{Binding Source={StaticResource settings}, Path=Settings.FontSize}" />
                                        <Setter Property="FontFamily"
                                                Value="{Binding Source={StaticResource settings}, Path=Settings.FontName}" />
                                    </Style.Setters>
                                </Style>
                            </DataGrid.CellStyle>

                            <DataGrid.InputBindings>
                                <KeyBinding Key="C"
                                            Command="{Binding CopyCommand}"
                                            CommandParameter="{Binding Path=ContentList}"
                                            Modifiers="Control" />
                                <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.FindNextCommand}"
                                            CommandParameter="{Binding}"
                                            Gesture="F3" />
                            </DataGrid.InputBindings>
                            <DataGrid.ContextMenu>
                                <ContextMenu HasDropShadow="True">
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding CopyCommand}"
                                              CommandParameter="{Binding Path=ContentList}"
                                              Header="Copy"
                                              InputGestureText="Ctrl+C" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.CloseCommand}"
                                              CommandParameter="{Binding}"
                                              Header="Close Filter"
                                              InputGestureText="Ctrl+Alt+F4" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.CloseAllCommand}"
                                              CommandParameter="{Binding}"
                                              Header="Close All Filters" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.CopyFilePathCommand}"
                                              CommandParameter="{Binding}"
                                              Header="Copy File Path" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.FindNextCommand}"
                                              CommandParameter="{Binding}"
                                              Header="Find Next"
                                              InputGestureText="F3" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.AddFilterItemCommand}"
                                              Header="Insert Filter Item"
                                              InputGestureText="Insert" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.NewCommand}"
                                              Header="New Filter"
                                              InputGestureText="Ctrl+Alt+N" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.OpenFolderCommand}"
                                              Header="Open Containing Folder" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.OpenCommand}"
                                              Header="Open Filter"
                                              InputGestureText="Ctrl+Alt+O" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding PasteCommand}"
                                              CommandParameter="{Binding Path=ContentList}"
                                              Header="Paste"
                                              InputGestureText="Ctrl+V" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.ReloadCommand}"
                                              Header="Reload Filter"
                                              InputGestureText="Ctrl+Alt+R" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.RemoveFilterItemCommand}"
                                              Header="Remove Filter Item"
                                              InputGestureText="Delete" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.SaveCommand}"
                                              Header="Save Filter"
                                              InputGestureText="Ctrl+Alt+S" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.SaveAsCommand}"
                                              CommandParameter="{Binding}"
                                              Header="Save Filter As" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Header="Shared Filters"
                                              ItemsSource="{Binding _FilterViewModel.SharedCollection}" />
                                </ContextMenu>
                            </DataGrid.ContextMenu>
                            <DataGrid.Columns>
                                <DataGridTextColumn Binding="{Binding Path=Index}"
                                                    Header="Index"
                                                    SortDirection="Ascending" />
                                <DataGridCheckBoxColumn Binding="{Binding Path=Enabled}"
                                                        Header="Enabled" />
                                <DataGridCheckBoxColumn Binding="{Binding Path=Exclude}"
                                                        Header="Exclude" />
                                <DataGridCheckBoxColumn Binding="{Binding Path=Regex}"
                                                        Header="Regex" />

                                <DataGridTextColumn Width="{Binding Source={StaticResource settings}, Path=Settings.ContentColumnSize}"
                                                    Binding="{Binding Path=Filterpattern, Mode=TwoWay, NotifyOnSourceUpdated=True, NotifyOnTargetUpdated=True}"
                                                    Header="Filter Pattern">
                                    <DataGridTextColumn.CellStyle>
                                        <Style TargetType="DataGridCell">
                                            <Style.Setters>
                                                <Setter Property="Background"
                                                        Value="{Binding Path=BackgroundColor, Mode=TwoWay, NotifyOnSourceUpdated=True, NotifyOnTargetUpdated=True}" />
                                                <Setter Property="Foreground"
                                                        Value="{Binding Path=ForegroundColor, Mode=TwoWay, NotifyOnSourceUpdated=True, NotifyOnTargetUpdated=True}" />
                                                <Setter Property="FontSize"
                                                        Value="{Binding Source={StaticResource settings}, Path=Settings.FontSize}" />
                                                <Setter Property="FontFamily"
                                                        Value="{Binding Source={StaticResource settings}, Path=Settings.FontName}" />
                                            </Style.Setters>
                                        </Style>
                                    </DataGridTextColumn.CellStyle>
                                    <DataGridTextColumn.ElementStyle>
                                        <Style>
                                            <Setter Property="TextBlock.TextWrapping"
                                                    Value="{Binding Source={StaticResource settings}, Path=Settings.WordWrap}" />
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Binding="{Binding Path=Count}"
                                                    Header="Count"
                                                    IsReadOnly="True" />
                                <DataGridTextColumn Binding="{Binding Path=MaskedCount}"
                                                    Header="MaskedCount"
                                                    Visibility="{Binding Data.MaskedVisibility, Source={StaticResource proxyFilter}, Converter={StaticResource BoolToVis}}" />

                                <DataGridTemplateColumn Header="Background Color">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <ComboBox Name="backgroundColorCombo"
                                                      GotFocus="colorCombo_Selected"
                                                      ItemsSource="{Binding Source={StaticResource colorPropertiesOdp}}"
                                                      KeyDown="colorCombo_KeyDown"
                                                      SelectedValue="{Binding BackgroundColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                      SelectedValuePath="Name"
                                                      VirtualizingStackPanel.IsVirtualizing="True"
                                                      VirtualizingStackPanel.VirtualizationMode="Recycling">
                                                <ComboBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <StackPanel Orientation="Horizontal">
                                                            <TextBlock Width="20"
                                                                       Height="15"
                                                                       Margin="0,0,5,0"
                                                                       Background="{Binding Name}" />
                                                            <TextBlock Name="backgroundColorText"
                                                                       FontSize="12"
                                                                       Text="{Binding Name}" />
                                                        </StackPanel>
                                                    </DataTemplate>
                                                </ComboBox.ItemTemplate>
                                            </ComboBox>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>

                                <DataGridTemplateColumn Header="Foreground Color">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <ComboBox Name="foregroundColorCombo"
                                                      GotFocus="colorCombo_Selected"
                                                      ItemsSource="{Binding Source={StaticResource colorPropertiesOdp}}"
                                                      KeyDown="colorCombo_KeyDown"
                                                      SelectedValue="{Binding ForegroundColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                      SelectedValuePath="Name"
                                                      VirtualizingStackPanel.IsVirtualizing="True"
                                                      VirtualizingStackPanel.VirtualizationMode="Recycling">
                                                <ComboBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <StackPanel Orientation="Horizontal">
                                                            <TextBlock Width="20"
                                                                       Height="15"
                                                                       Margin="0,0,5,0"
                                                                       Background="{Binding Name}" />
                                                            <TextBlock FontSize="12"
                                                                       Text="{Binding Name}" />
                                                        </StackPanel>
                                                    </DataTemplate>
                                                </ComboBox.ItemTemplate>
                                            </ComboBox>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>

                                <DataGridTextColumn Width="{Binding Source={StaticResource settings}, Path=Settings.ContentColumnSize}"
                                                    Binding="{Binding Path=Notes}"
                                                    Header="Notes">

                                    <DataGridTextColumn.ElementStyle>
                                        <Style>
                                            <Setter Property="TextBlock.TextWrapping"
                                                    Value="{Binding Source={StaticResource settings}, Path=Settings.WordWrap}" />
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                            </DataGrid.Columns>
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="SourceUpdated">
                                    <i:InvokeCommandAction Command="{Binding SourceUpdatedCommand}"
                                                           CommandParameter="{Binding ElementName=filterFileData}" />
                                </i:EventTrigger>
                                <i:EventTrigger EventName="SelectionChanged">
                                    <i:InvokeCommandAction Command="{Binding SelectionChangedCommand}"
                                                           CommandParameter="{Binding ElementName=filterFileData}" />
                                </i:EventTrigger>
                                <i:EventTrigger EventName="LayoutUpdated">
                                    <i:InvokeCommandAction Command="{Binding SetViewerCommand}"
                                                           CommandParameter="{Binding ElementName=filterFileData}" />
                                </i:EventTrigger>
                                <i:EventTrigger EventName="PreviewKeyDown">
                                    <i:InvokeCommandAction Command="{Binding KeyDownCommand}"
                                                           CommandParameter="{Binding}" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </DataGrid>
                    </DataTemplate>
                </TabControl.ContentTemplate>
                <TabControl.ContextMenu>
                    <ContextMenu HasDropShadow="True">
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _FilterViewModel.CloseCommand}"
                                  Header="Close Filter"
                                  InputGestureText="Ctrl+Alt+F4" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _FilterViewModel.CloseAllCommand}"
                                  Header="Close All Filters" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _FilterViewModel.CopyFilePathCommand}"
                                  Header="Copy File Path" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _FilterViewModel.FilterNotesCommand}"
                                  Header="Filter Notes" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding Source={StaticResource mainViewModel}, Path=_FilterViewModel.FindNextCommand}"
                                  CommandParameter="{Binding}"
                                  Header="Find Next"
                                  InputGestureText="F3" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _FilterViewModel.NewCommand}"
                                  Header="New Filter"
                                  InputGestureText="Ctrl+Alt+N" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _FilterViewModel.OpenFolderCommand}"
                                  Header="Open Containing Folder" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _FilterViewModel.OpenCommand}"
                                  Header="Open Filter"
                                  InputGestureText="Ctrl+Alt+O" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _FilterViewModel.ReloadCommand}"
                                  Header="Reload Filter"
                                  InputGestureText="Ctrl+Alt+R" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _FilterViewModel.RenameCommand}"
                                  Header="Rename Filter"
                                  InputGestureText="Alt+F2" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _FilterViewModel.SaveCommand}"
                                  Header="Save Filter"
                                  InputGestureText="Ctrl+Alt+S" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _FilterViewModel.SaveAsCommand}"
                                  CommandParameter="{Binding}"
                                  Header="Save Filter As" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Header="Shared Filters"
                                  ItemsSource="{Binding _FilterViewModel.SharedCollection}" />
                    </ContextMenu>
                </TabControl.ContextMenu>
            </TabControl>
            <GridSplitter Grid.Row="2"
                          Height="10"
                          HorizontalAlignment="Stretch"
                          Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                          Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}" />

            <!--  vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv LOG FILE DATA vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv  -->

            <TabControl x:Name="tabLogs"
                        Grid.Row="3"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch"
                        BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                        ItemsSource="{Binding Path=_LogViewModel.TabItems}"
                        SelectedIndex="{Binding Path=_LogViewModel.SelectedIndex, Mode=TwoWay, NotifyOnSourceUpdated=True, NotifyOnTargetUpdated=True}">

                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="GotFocus">
                        <i:InvokeCommandAction Command="{Binding _LogViewModel.GotFocusCommand}"
                                               CommandParameter="{Binding}" />
                    </i:EventTrigger>
                </i:Interaction.Triggers>
                <TabControl.Background>
                    <VisualBrush>
                        <VisualBrush.Visual>
                            <Grid Width="{Binding Path=ActualWidth, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type TabControl}}, Mode=OneWay}"
                                  Height="{Binding Path=ActualHeight, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type TabControl}}, Mode=OneWay}">
                                <Rectangle Fill="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}" />
                                <Image HorizontalAlignment="Left"
                                       VerticalAlignment="Top"
                                       Opacity="1"
                                       Source="../Resources/File.png"
                                       Stretch="None" />
                            </Grid>
                        </VisualBrush.Visual>
                    </VisualBrush>
                </TabControl.Background>
                <TabControl.ItemTemplate>

                    <DataTemplate>
                        <TextBlock Margin="-4,0,-4,-2"
                                   Background="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                   Foreground="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                   Text="{Binding Path=Header}" />
                    </DataTemplate>
                </TabControl.ItemTemplate>
                <TabControl.ContentTemplate x:Uid="logFileContent">

                    <DataTemplate>
                        <DataGrid x:Name="logFileData"
                                  Margin="0,0,0,0"
                                  HorizontalAlignment="Stretch"
                                  VerticalAlignment="Stretch"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  AutoGenerateColumns="False"
                                  CanUserAddRows="False"
                                  CanUserDeleteRows="False"
                                  CanUserReorderColumns="True"
                                  GridLinesVisibility="None"
                                  IsReadOnly="False"
                                  ItemsSource="{Binding Path=ContentList}"
                                  ScrollViewer.HorizontalScrollBarVisibility="Auto"
                                  ScrollViewer.VerticalScrollBarVisibility="Auto"
                                  SelectionMode="Extended"
                                  SelectionUnit="FullRow"
                                  Tag="{Binding}"
                                  VirtualizingStackPanel.IsVirtualizing="True"
                                  VirtualizingStackPanel.VirtualizationMode="Recycling">

                            <DataGrid.Resources>
                                <local:BindingProxy x:Key="proxyLog"
                                                    Data="{Binding}" />
                            </DataGrid.Resources>

                            <DataGrid.CellStyle>
                                <Style TargetType="DataGridCell">
                                    <Style.Setters>
                                        <Setter Property="Background"
                                                Value="{Binding Path=Background}" />
                                        <Setter Property="Foreground"
                                                Value="{Binding Path=Foreground}" />
                                        <Setter Property="FontSize"
                                                Value="{Binding Source={StaticResource settings}, Path=Settings.FontSize}" />
                                        <Setter Property="FontFamily"
                                                Value="{Binding Source={StaticResource settings}, Path=Settings.FontName}" />
                                        <Setter Property="BorderThickness"
                                                Value="1" />
                                        <Setter Property="BorderBrush"
                                                Value="{Binding Path=Background}" />
                                    </Style.Setters>
                                    <Style.Triggers>
                                        <Trigger Property="IsSelected"
                                                 Value="True">
                                            <Setter Property="BorderBrush"
                                                    Value="{Binding Path=Foreground}" />
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGrid.CellStyle>

                            <DataGrid.Columns>
                                <DataGridTextColumn Binding="{Binding Path=Index}"
                                                    Header="Index"
                                                    SortDirection="Ascending" />
                                <DataGridTextColumn Width="{Binding Source={StaticResource settings}, Path=Settings.ContentColumnSize}"
                                                    Binding="{Binding Path=Content}"
                                                    Header="Content">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style>
                                            <Setter Property="TextBlock.TextWrapping"
                                                    Value="{Binding Source={StaticResource settings}, Path=Settings.WordWrap}" />
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>

                                <DataGridTextColumn Width="50*"
                                                    Binding="{Binding Path=Group1}"
                                                    Header="Group1"
                                                    Visibility="{Binding Data.Group1Visibility, Source={StaticResource proxyLog}, Converter={StaticResource BoolToVis}}">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style>
                                            <Setter Property="TextBlock.TextWrapping"
                                                    Value="{Binding Source={StaticResource settings}, Path=Settings.WordWrap}" />
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Width="50*"
                                                    Binding="{Binding Path=Group2}"
                                                    Header="Group2"
                                                    Visibility="{Binding Data.Group2Visibility, Source={StaticResource proxyLog}, Converter={StaticResource BoolToVis}}">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style>
                                            <Setter Property="TextBlock.TextWrapping"
                                                    Value="{Binding Source={StaticResource settings}, Path=Settings.WordWrap}" />
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Width="50*"
                                                    Binding="{Binding Path=Group3}"
                                                    Header="Group3"
                                                    Visibility="{Binding Data.Group3Visibility, Source={StaticResource proxyLog}, Converter={StaticResource BoolToVis}}">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style>
                                            <Setter Property="TextBlock.TextWrapping"
                                                    Value="{Binding Source={StaticResource settings}, Path=Settings.WordWrap}" />
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Width="50*"
                                                    Binding="{Binding Path=Group4}"
                                                    Header="Group4"
                                                    Visibility="{Binding Data.Group4Visibility, Source={StaticResource proxyLog}, Converter={StaticResource BoolToVis}}">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style>
                                            <Setter Property="TextBlock.TextWrapping"
                                                    Value="{Binding Source={StaticResource settings}, Path=Settings.WordWrap}" />
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                            </DataGrid.Columns>

                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="SourceUpdated">
                                    <i:InvokeCommandAction Command="{Binding SourceUpdatedCommand}"
                                                           CommandParameter="{Binding ElementName=logFileData}" />
                                </i:EventTrigger>
                                <i:EventTrigger EventName="SelectionChanged">
                                    <i:InvokeCommandAction Command="{Binding SelectionChangedCommand}"
                                                           CommandParameter="{Binding ElementName=logFileData}" />
                                </i:EventTrigger>
                                <i:EventTrigger EventName="LayoutUpdated">
                                    <i:InvokeCommandAction Command="{Binding SetViewerCommand}"
                                                           CommandParameter="{Binding ElementName=logFileData}" />
                                </i:EventTrigger>
                                <i:EventTrigger EventName="PreviewKeyDown">
                                    <i:InvokeCommandAction Command="{Binding KeyDownCommand}"
                                                           CommandParameter="{Binding}" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>

                            <DataGrid.InputBindings>
                                <KeyBinding Key="C"
                                            Command="{Binding CopyCommand}"
                                            Modifiers="Control" />
                                <KeyBinding Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.FindNextCommand}"
                                            CommandParameter="{Binding}"
                                            Gesture="F3" />
                            </DataGrid.InputBindings>
                            <DataGrid.ContextMenu>
                                <ContextMenu HasDropShadow="True">
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding CopyCommand}"
                                              CommandParameter="{Binding Path=ContentList}"
                                              Header="Copy"
                                              InputGestureText="Ctrl+C" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.CloseCommand}"
                                              Header="Close File"
                                              InputGestureText="Ctrl+F4" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.CloseAllCommand}"
                                              Header="Close All Files" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.CopyFilePathCommand}"
                                              Header="Copy File Path" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.ExportCommand}"
                                              Header="Export File"
                                              InputGestureText="Ctrl+E" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.FindNextCommand}"
                                              CommandParameter="{Binding}"
                                              Header="Find Next"
                                              InputGestureText="F3" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.GotoLineCommand}"
                                              CommandParameter="{Binding ElementName=listboxStatus}"
                                              Header="Goto Line"
                                              InputGestureText="Ctrl+G" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.OpenFolderCommand}"
                                              Header="Open Containing Folder" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.OpenCommand}"
                                              Header="Open File"
                                              InputGestureText="Ctrl+O" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.NewCommand}"
                                              Header="Open View in new Tab"
                                              InputGestureText="Ctrl+N" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.PasteCommand}"
                                              Header="Paste"
                                              InputGestureText="Ctrl+V" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.ReloadCommand}"
                                              Header="Reload File"
                                              InputGestureText="Ctrl+R" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.SaveAsCommand}"
                                              Header="Save Current View"
                                              InputGestureText="Ctrl+S" />
                                    <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                              Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                              BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                              Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.HideCommand}"
                                              CommandParameter="{Binding ElementName=listboxStatus}"
                                              Header="Show / Hide All Items"
                                              InputGestureText="Ctrl+H" />

                                    <!--<MenuItem Header="Select All" Command="{Binding SelectAllCommand}" InputGestureText="Ctrl+A" />-->
                                </ContextMenu>
                            </DataGrid.ContextMenu>
                        </DataGrid>
                    </DataTemplate>
                </TabControl.ContentTemplate>

                <TabControl.ContextMenu>
                    <ContextMenu HasDropShadow="True">
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _LogViewModel.CloseCommand}"
                                  CommandParameter="{Binding}"
                                  Header="Close File"
                                  InputGestureText="Ctrl+F4" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _LogViewModel.CloseAllCommand}"
                                  CommandParameter="{Binding}"
                                  Header="Close All Files"
                                  InputGestureText="Ctrl+Shift+F4" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _LogViewModel.CopyFilePathCommand}"
                                  CommandParameter="{Binding}"
                                  Header="Copy File Path" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding Source={StaticResource mainViewModel}, Path=_LogViewModel.FindNextCommand}"
                                  CommandParameter="{Binding}"
                                  Header="Find Next"
                                  InputGestureText="F3" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _LogViewModel.OpenFolderCommand}"
                                  CommandParameter="{Binding}"
                                  Header="Open Containing Folder" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _LogViewModel.OpenCommand}"
                                  CommandParameter="{Binding}"
                                  Header="Open File"
                                  InputGestureText="Ctrl+O" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _LogViewModel.PasteCommand}"
                                  CommandParameter="{Binding}"
                                  Header="Paste"
                                  InputGestureText="Ctrl+V" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _LogViewModel.ReloadCommand}"
                                  CommandParameter="{Binding}"
                                  Header="Reload File"
                                  InputGestureText="Ctrl+R" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _LogViewModel.RenameCommand}"
                                  Header="Rename File"
                                  InputGestureText="F2" />
                        <MenuItem Style="{DynamicResource MenuItemStyle1}"
                                  Background="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Foreground="{Binding Source={StaticResource settings}, Path=Settings.ForegroundColor}"
                                  BorderBrush="{Binding Source={StaticResource settings}, Path=Settings.BackgroundColor}"
                                  Command="{Binding _LogViewModel.SaveAsCommand}"
                                  CommandParameter="{Binding}"
                                  Header="Save Current View"
                                  InputGestureText="Ctrl+S" />
                    </ContextMenu>
                </TabControl.ContextMenu>
            </TabControl>
        </Grid>
    </DockPanel>
</Window>